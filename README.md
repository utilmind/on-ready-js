# on-ready-js
3 JavaScript helper functions required to wait for initialization of some objects before execution of process which requires initialized objects

wReady() and doInit() functions.
<pre>
/* wReady -- привязывает функцию к ближашему событию смены состояния документа.
   До загрузки кода — привязывается к document."DOMContentLoaded".
   После загрузки кода — к window."load".
   После загрузки всех элементов — ни к чему уже не привязываемся.

   Параметры:
     f -- функа, которая должна выполниться.
          При этом сама функа должна возвращать 1 (TRUE) если инициализация не удалась И функа должна быть отложена до следующего события.
     wait_complete -- (не обязательный)
 */
wReady=function(f, wait_complete) { // вешаемся на ожидание чего либо. Без немедленного выполнения. (Немедленно выполняем только если все события уже миновали.)


/* doInit -- выполняет какую-то функу, переданную параметром f.
   Параметры:
     f -- функа, которая должна выполниться.
          Функа должна возвращать 1 (TRUE) если инициализация не удалась И функа должна быть отложена до следующего события.
          Причём функа будет выполнена с параметром Integer-типа, f(int). Возможные значения:
            1 -- запущено немедленно после вызова doInit(). Независимо от текущего состояния документа.
                 Как правило запускается при document.readyState == "loading", но не обязательно.
                 При острой необходимости узнать точное состояние документа, лучше проверять document.readyState внутри функции.
            2 -- запущено по готовности документа, когда весь DOM-контент построен, но до завершения загрузки внешних скриптов.
                 (document.readyState == "interactive")
            3 -- запущено когда всё вообще на своих местах, все внешние скрипты, стили, картинки и вообще всё загружено.
                 (document.readyState == "complete")
     wait -- (не обязательный) стоит ли нам подождать по меньшей мере полной загрузки страницы.
             Возможные значения:
               1 -- Если HTML загружен (readyState == "interactive" или дальше) — запускаем немедленно.
                    Но если вызов на этапе "loading" ждём любое следующее событие. ready или load.
                          (То есть, в принципе, это то же, что повесить внешний скрипт с директивой defer.)
                          Без такого сложного wait, минифицированный doInit выглядел бы так: doInit=function(f,w){(w||f(1))&&wReady(f,w>1)}
               2 -- ждём именно load, полную загрузку всего.
 */
doInit=function(f, wait) {
</pre>
